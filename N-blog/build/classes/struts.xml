<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>
<!-- 配置包名 -->
<constant name="struts.enable.DynamicMethodInvocation" value="true"/>
<package name="/" namespace="/"  extends="struts-default">
	<action name="User" class="controller.UserAction">
	<result name="login_success" >/h/index.jsp</result>
	<result name="login_failure">/h/login.jsp</result>
	</action>
	<action name="Logout" class="controller.UserAction" method="logout">
	<result name="logout_success">/h/index.jsp</result>
	</action>
</package>
<package name="Regiser" namespace="/"  extends="struts-default">
	<action name="Register" class="controller.RegisterAction">
	<result name="register_success" >/h/index.jsp</result>
	<result name="register_failure">/h/register.jsp</result>
	</action>
</package>
<!--博客的增删改查 -->
<package name="CRUDDEMO" namespace="/"  extends="struts-default">
	<action name="List" class="controller.BlogAction" method="index">
	<result >/h/table_data_tables.jsp</result>
	</action>
	<action name="List2" class="controller.BlogAction" method="index">
	<result >/h/projects.jsp</result>
	</action>
	<!-- <action name="Search" class="controller.BlogAction" method="search">
	<result >/frontstage/blog/search.jsp</result>
	</action> -->
	<action  name="Remove" class="controller.BlogAction" method="remove">
	<result type ="redirect">/h/List.action</result>
	</action>
	<!--edit页面获取 -->
	<action name="Edit" class="controller.BlogAction" method="edit">
	<result>/h/form_basic.jsp</result>
	</action>
	<action name="Add" class="controller.BlogAction" method="add">
	<result type="redirect">/h/List.action</result>
	</action>
	<action name="Change" class="controller.BlogAction" method="change">
	<result type="redirect">/h/List.action</result>
	</action>
	<!-- 获取博客详情视图，然后chain到viewcomment.action -->
	<action name="View" class="controller.BlogAction" method="load">  
	<result type="chain">
	<param name="actionName">ViewComment
	</param>
	</result>
	</action>
	<!--获取评论详情  返回文章页面-->
	<action name="ViewComment" class="controller.CommentAction" method="view_comment">
	<result >/h/article.jsp</result>
	</action>
	<!--回收站 显示已经软删除的内容  -->
	<action name="recycle" class="controller.BlogAction" method="recycle">
	<result>/h/recycle_bin.jsp</result>
	</action>
	<!--草稿箱  -->
	<action name="drafts" class="controller.BlogAction" method="drafts">
	<result>/h/drafts.jsp</result>
	</action>
	<!--软删除  -->
	 <action name="soft_delete" class="controller.BlogAction" method="softdel">
	<result>/h/history_back.jsp</result>
	</action> 
</package>

<package name="search_url" namespace="/"  extends="struts-default">
	<action name="index" class="controller.UserAction" method="index">
	<result name="index_success" >/h/index.jsp</result>
	<result name="index_failure">/h/404</result>
	</action>
	
</package>
<!--Comment相关 -->
<package name="CommentCRUD" namespace="/"  extends="struts-default">
	
	<action name="AddComment" class="controller.CommentAction" method="add">
	<result type="redirect">/h/View.action</result>
	</action>
</package>
</struts>
<!-- type ="redirect可以重定向 -->